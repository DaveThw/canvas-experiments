<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <title>Canvas 1</title>
 <script>

    var gridSize = 10;
    var canvasWidth = 300;
    var canvasHeight = 300;
    
    var canvasElement;
    var drawingContext;

function Mouse(x, y) {
    this.x = x;
    this.y = y;
}

function getCursorPosition(e) {
    /* returns Mouse with .x and .y properties */
    var x;
    var y;
    if (e.pageX != undefined && e.pageY != undefined) {
        x = e.pageX;
        y = e.pageY;
    } else {
        x = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
        y = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;
    }
    x -= canvasElement.offsetLeft;
    y -= canvasElement.offsetTop;

    var mouse = new Mouse(x, y);
    return mouse;
}

function canvasOnClick(e) {
    var mouse = getCursorPosition(e);

    drawingContext.beginPath();
    drawingContext.arc(mouse.x, mouse.y, 10, 0, Math.PI*2, false);
    drawingContext.closePath();

    drawingContext.fillStyle = "#fff";
	drawingContext.fill();

    drawingContext.strokeStyle = "#888";
    drawingContext.lineWidth = 3
    drawingContext.stroke();

}

function init(canvas) {
    if (!canvas) {
        canvas = document.createElement("canvas");
    	canvas.id = "canvas";
    	document.body.appendChild(canvas);
    }
    canvasElement = canvas;
    canvasElement.width = canvasWidth;
    canvasElement.height = canvasHeight;
    canvasElement.addEventListener("click", canvasOnClick, false);
    drawingContext = canvasElement.getContext("2d");

    var gradient = drawingContext.createLinearGradient(0, 0, canvasWidth, canvasHeight);
    gradient.addColorStop(0, "#d0d0d0");
    gradient.addColorStop(1, "#fbfbfb");
    drawingContext.fillStyle = gradient;
    // drawingContext.fillStyle = "#eee";
    drawingContext.fillRect(0, 0, canvasWidth, canvasHeight)
}
 </script>
</head>
<body>
 <h1>Canvas Experiment #1</h1>
 <p>Click anywhere in the grey square to draw a dot!</p>
 <script>
   init(null);
 </script>
</body>
</html>
